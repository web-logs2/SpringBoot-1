package spring.SpringBoot.web;

import org.springframework.beans.factory.annotation.Autowired;
import org.web3j.protocol.Web3j;
import org.web3j.protocol.core.DefaultBlockParameterName;
import org.web3j.protocol.core.methods.response.EthGasPrice;
import org.web3j.protocol.core.methods.response.EthGetBalance;
import org.web3j.protocol.core.methods.response.Web3ClientVersion;
import org.web3j.protocol.http.HttpService;
import spring.SpringBoot.service.RaffleContractService;

import java.util.concurrent.ExecutionException;

public class ATest {
//    private static RaffleContractService raffleContractService;

    public static void main(String[] args) throws ExecutionException, InterruptedException {


//        raffleContractService.execSwapTransferAllIfCompletedWithNFT();
//        Web3j client = Web3j.build(new HttpService("https://sepolia.infura.io/v3/3a4cf0ed857e458f8a704efd8211a336"));
//        Web3ClientVersion clientVersion = client.web3ClientVersion().sendAsync().get();
//        System.out.println(clientVersion.getWeb3ClientVersion());
        // => Geth/v1.10.15-omnibus-hotfix-f4decf48/linux-amd64/go1.17.6
//
//        Web3j client = Web3j.build(new HttpService("https://ropsten.infura.io/v3/You Infura Project Id"));
//        EthGasPrice ethGasPrice = client.ethGasPrice().sendAsync().get();
//        System.out.println(ethGasPrice.getGasPrice());

//        Web3j client = Web3j.build(new HttpService("https://ropsten.infura.io/v3/You Infura Project Id"));
//        EthGetBalance ethGetBalance = client.ethGetBalance(
//                "0x64f44b31ad0ed4537f94a5c084cfba8945463345",
//                DefaultBlockParameterName.fromString(DefaultBlockParameterName.LATEST.name())
//        ).sendAsync().get();
//        System.out.println(ethGetBalance.getBalance());
//        // => 741270235881990866


    }
}
